"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4294],{4294:(E,h,s)=>{s.r(h),s.d(h,{PlaylistDetailsPageModule:()=>k});var d=s(177),f=s(9417),c=s(8974),g=s(3021),m=s(467),P=s(56),D=s(5301),t=s(4438),b=s(2904),C=s(7803),O=s(4254),y=s(5402);function M(n,l){1&n&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Add content to the playlist")))}function x(n,l){if(1&n&&t.nrm(0,"img",12),2&n){const e=t.XpG(2).$implicit;t.Y8G("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/Audio.png",t.B4B)}}function G(n,l){if(1&n&&t.nrm(0,"img",17),2&n){const e=t.XpG(2).$implicit;t.Y8G("appThumbnail",null==e?null:e.metaData)}}function j(n,l){if(1&n&&t.nrm(0,"img",12),2&n){const e=t.XpG(2).$implicit;t.Y8G("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/Video.png",t.B4B)}}function T(n,l){if(1&n&&t.nrm(0,"img",12),2&n){const e=t.XpG(2).$implicit;t.Y8G("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/PDF.png",t.B4B)}}function $(n,l){if(1&n&&t.nrm(0,"img",12),2&n){const e=t.XpG(2).$implicit;t.Y8G("src",null!=e&&null!=e.metaData&&e.metaData.thumbnail&&!e.metaData.identifier.startsWith("do_")?null==e||null==e.metaData?null:e.metaData.thumbnail:"assets/images/LINK.png",t.B4B)}}function I(n,l){1&n&&t.nrm(0,"ion-icon",18)}function R(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",8)(1,"div",9),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.playContent(a))}),t.DNE(2,x,1,1,"img",10)(3,G,1,1,"img",11)(4,j,1,1,"img",10)(5,T,1,1,"img",10)(6,$,1,1,"img",10),t.nrm(7,"img",12),t.k0s(),t.j41(8,"div",13)(9,"div",14),t.EFF(10),t.k0s(),t.j41(11,"ion-buttons"),t.DNE(12,I,1,0,"ion-icon",15),t.j41(13,"ion-icon",16),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.moreOtions(a))}),t.k0s()()()()}if(2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(2),t.Y8G("ngIf",e.metaData.mimetype===i.mimeType.AUDIO),t.R7$(),t.Y8G("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===i.mimeType.YOUTUBE&&!e.play),t.R7$(),t.Y8G("ngIf",e.metaData.mimetype===i.mimeType.MP4),t.R7$(),t.Y8G("ngIf",e.metaData.mimetype===i.mimeType.PDF),t.R7$(),t.Y8G("ngIf",(null==e||null==e.metaData?null:e.metaData.mimetype)===(null==i.mimeType?null:i.mimeType.LINK)),t.R7$(),t.Y8G("src",""!=(null==e||null==e.metaData?null:e.metaData.thumbnail)||e.metaData.identifier.startsWith("do_")?"":"https://ejaaduipitara.ncert.gov.in/assets/img/cards.jpg",t.B4B),t.R7$(3),t.JRh(null==e.metaData?null:e.metaData.name),t.R7$(2),t.Y8G("ngIf","local"===e.source)}}function w(n,l){if(1&n&&(t.j41(0,"div",6),t.DNE(1,R,14,8,"div",7),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.Y8G("ngIf",null==e?null:e.metaData)}}const Y=[{path:"",component:(()=>{var n;class l{constructor(i,a,o,r){var p;this.router=i,this.headerService=a,this.modalCtrl=o,this.playlistService=r,this.playlists=[],this.mimeType=P.Cc,this.navigated=!1,this.headerEventSub=null;let _=null===(p=this.router.getCurrentNavigation())||void 0===p?void 0:p.extras;var u;_&&(this.playContentObject=null===(u=_.state)||void 0===u?void 0:u.playlist,this.playContentObject.playListcontentList.map(v=>{v.metaData=JSON.parse(v.content_metadata)}),this.playlists=this.playContentObject.playListcontentList)}ngOnInit(){this.headerService.showHeader(this.playContentObject.name,!0,["edit"]),this.headerService.headerEventEmitted$.subscribe(i=>{"edit"===i?this.router.navigate(["/create-playlist"],{state:{playlists:this.playContentObject,islocal:!0}}):"back"===i&&!this.navigated&&(this.navigated=!0,this.router.navigate(["/tabs/my-pitara"]))})}ionViewWillEnter(){this.navigated=!1,this.headerService.showHeader(this.playContentObject.name,!0,["edit"])}ngOnDestroy(){try{this.headerEventSub&&this.headerEventSub.unsubscribe()}catch(i){console.log("error in unsubscribe",i)}}playContent(i){var a=this;return(0,m.A)(function*(){yield a.router.navigate(["/player"],{state:{content:i}})})()}deletePlaylist(i){var a=this;return(0,m.A)(function*(){yield a.playlistService.deleteContentFromPlayList(a.playContentObject.identifier,[i.identifier]).then(o=>{a.getPlaylistContent()}).catch(o=>{console.log("err",o)})})()}getPlaylistContent(){var i=this;return(0,m.A)(function*(){yield i.playlistService.getPlayListContents(i.playContentObject.identifier).then(a=>{i.playlists=a,i.playlists.map(o=>{o.metaData=JSON.parse(o.content_metadata)}),i.playContentObject.playListcontentList=i.playlists})})()}moreOtions(i){var a=this;return(0,m.A)(function*(){const o=yield a.modalCtrl.create({component:D.J,cssClass:"add-to-pitara",breakpoints:[0,1],showBackdrop:!1,initialBreakpoint:1,handle:!1,handleBehavior:"none"});yield o.present(),o.onWillDismiss().then(r=>{r&&"delete"===r.data.type?a.deletePlaylist(i):r&&"edit"===r.data.type&&a.router.navigate(["/create-playlist"],{state:{playlists:a.playContentObject,islocal:!0}})})})()}}return(n=l).\u0275fac=function(i){return new(i||n)(t.rXU(g.Ix),t.rXU(b.Ux),t.rXU(c.W3),t.rXU(C.q))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-playlist-details"]],decls:4,vars:3,consts:[[3,"fullscreen"],["class","bot-section",4,"ngIf"],["id","content-list"],["class","cards-container",4,"ngFor","ngForOf"],[1,"bot-section"],[1,"bot-section__text"],[1,"cards-container"],["class","card",4,"ngIf"],[1,"card"],[1,"card__img",3,"click"],["alt","",3,"src",4,"ngIf"],["appThumbnail","","alt","",3,"appThumbnail",4,"ngIf"],["alt","",3,"src"],[1,"card__metadata"],[1,"card__title"],["aria-hidden","true","class","icon-right","src","assets/icon/sd-card.svg",4,"ngIf"],["aria-hidden","true","src","assets/icon/kabab-icon.svg",1,"icon-left",3,"click"],["appThumbnail","","alt","",3,"appThumbnail"],["aria-hidden","true","src","assets/icon/sd-card.svg",1,"icon-right"]],template:function(i,a){1&i&&(t.j41(0,"ion-content",0),t.DNE(1,M,4,3,"div",1),t.j41(2,"div",2),t.DNE(3,w,2,1,"div",3),t.k0s()()),2&i&&(t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",!a.playlists.length),t.R7$(2),t.Y8G("ngForOf",a.playlists))},dependencies:[d.Sq,d.bT,c.QW,c.W9,c.iq,O.g,y.D9],styles:[".cards-container[_ngcontent-%COMP%]{padding:.2rem 1rem}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 1rem 1rem}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative}.cards-container[_ngcontent-%COMP%]   .bot-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .image-title[_ngcontent-%COMP%]{position:absolute;bottom:.625rem;color:var(--ion-color-primary-contrast);left:0;right:0;text-align:center}.card[_ngcontent-%COMP%]{position:relative;padding-bottom:1rem}.card__img[_ngcontent-%COMP%]{height:194px;width:100%;overflow:hidden}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:100%;height:100%;border-radius:1rem}.card__metadata[_ngcontent-%COMP%]{padding-top:.5rem;display:flex;align-items:center;justify-content:space-between}.card__metadata[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:1.75rem;width:1.75rem}.card__action-btns[_ngcontent-%COMP%]{display:flex;align-items:center}.card__action-btns[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:1rem}.card__action-btns[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:last-child{margin-left:auto;margin-right:0}.card__title[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;width:90%;text-transform:capitalize;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.no-data[_ngcontent-%COMP%]{text-align:center}#content-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}@media (max-width: 700px){#content-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}}ion-content[_ngcontent-%COMP%]{--padding-top: 3.5rem }.landscape-icon[_ngcontent-%COMP%]{position:absolute;width:100%;background:transparent;bottom:3.5rem;z-index:9999;background:var(--ion-color-secondary-contrast);opacity:.5}.landscape-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right;font-size:1.5rem;margin-right:.5rem}.icon-right[_ngcontent-%COMP%]{margin-right:10px}.icon-left[_ngcontent-%COMP%]{margin-left:10px}.bot-section__text[_ngcontent-%COMP%]{position:absolute;left:46%;right:0;top:16%;transform:translate(-50%,-50%);text-align:center;color:var(--ion-color-medium);font-size:.75rem}"]}),l})()}];let B=(()=>{var n;class l{}return(n=l).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[g.iI.forChild(Y),g.iI]}),l})();var X=s(3721);let k=(()=>{var n;class l{}return(n=l).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,f.YN,c.bv,B,y.h,X.h]}),l})()}}]);